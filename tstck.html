<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Document</title>

  <link rel="stylesheet" href="tsstck.css" type="text/css"/>

</head>
<body>

  <div class="inner">
    <table id="mainTable">
      <tbody id="btHeaderTbody" class="bookingTbody">
        <tr id="btHeaderTr" class="tableHeader">
          <th id="r0c0" class="th0">th0</th>
          <td class="td-header">td1</td>
          <td class="td-header">td2</td>
          <td class="td-header">td3</td>
        </tr>
      </tbody>

      <tbody id="1_7" class="bookingTbody">
        <tr class="newDayTr">
          <th>day_1</th>
          <td colspan="3" class="newDayTr">full_day_1</td>
        </tr>

        <tr id="day1_0:00" class="groupD">
          <th rowspan="2">0:00 <br><span class="tdSpan"></span></th>
          <td class="pf">v1</td>
          <td class="pf">v2</td>
          <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_0:30" class="groupD odd">
            <th rowspan="2">0:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_1:00" class="groupD">
            <th rowspan="2">1:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
          </tr>
        <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
        <tr id="day1_1:30" class="groupD odd">
            <th rowspan="2">1:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr class="groupD">
          <th rowspan="2">test <br><span class="tdSpan"></span></th>
          <td class="pf">tv1</td>
          <td class="pf">tv2</td>
          <td class="pf">tv3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>



        <tr id="day1_2:00" class="groupD">
            <th rowspan="2">2:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_2:30" class="groupD odd">
            <th rowspan="2">2:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_3:00" class="groupD">
            <th rowspan="2">3:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_3:30" class="groupD odd">
            <th rowspan="2">3:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_4:00" class="groupD">
          <th rowspan="2">4:00 <br><span class="tdSpan"></span></th>
          <td class="pf">v1</td>
          <td class="pf">v2</td>
          <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_4:30" class="groupD odd">
            <th rowspan="2">4:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_5:00" class="groupD">
            <th rowspan="2">5:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
          </tr>
        <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
        <tr id="day1_5:30" class="groupD odd">
            <th rowspan="2">5:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_6:00" class="groupD">
            <th rowspan="2">6:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_6:30" class="groupD odd">
            <th rowspan="2">6:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_7:00" class="groupD">
            <th rowspan="2">7:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>

        <tr id="day1_7:30" class="groupD odd">
            <th rowspan="2">7:30 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
        </tr>
        <tr class="groupN">
          <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
        </tr>
      </tbody>



      <tbody id="2_7" class="bookingTbody">
          <tr id="day2HeaderTr" class="newDayTr">
            <th id="day2HeaderTh">day_2</th>
            <td colspan="3" class="newDayTr">full_day_2</td>
          </tr>

          <tr id="day2_0:00" class="groupD">
            <th rowspan="2">0:00 <br><span class="tdSpan"></span></th>
            <td class="pf">v1</td>
            <td class="pf">v2</td>
            <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_0:30" class="groupD odd">
              <th rowspan="2">0:30 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_1:00" class="groupD">
              <th rowspan="2">1:00 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
            </tr>
          <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_1:30" class="groupD odd">
              <th rowspan="2">1:30 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_2:00" class="groupD">
              <th rowspan="2">2:00 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_2:30" class="groupD odd">
              <th rowspan="2">2:30 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_3:00" class="groupD">
              <th rowspan="2">3:00 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
          <tr id="day2_3:30" class="groupD odd">
              <th rowspan="2">3:30 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
          </tr>
          <tr class="groupN">
            <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
          </tr>
        </tbody>




        <tbody id="3_7" class="bookingTbody">
            <tr class="newDayTr">
              <th>day_3</th>
              <td colspan="3" class="newDayTr">full_day_3</td>
            </tr>

            <tr id="day3_0:00" class="groupD">
              <th rowspan="2">0:00 <br><span class="tdSpan"></span></th>
              <td class="pf">v1</td>
              <td class="pf">v2</td>
              <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_0:30" class="groupD odd">
                <th rowspan="2">0:30 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_1:00" class="groupD">
                <th rowspan="2">1:00 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
              </tr>
              <tr class="groupN">
                  <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
                </tr>
            <tr id="day3_1:30" class="groupD odd">
                <th rowspan="2">1:30 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_2:00" class="groupD">
                <th rowspan="2">2:00 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_2:30" class="groupD odd">
                <th rowspan="2">2:30 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_3:00" class="groupD">
                <th rowspan="2">3:00 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
            <tr id="day3_3:30" class="groupD odd">
                <th rowspan="2">3:30 <br><span class="tdSpan"></span></th>
                <td class="pf">v1</td>
                <td class="pf">v2</td>
                <td class="pf">v3</td>
            </tr>
            <tr class="groupN">
                <td colspan="3" class="freeTimeTd"> -- ft marker --</td>
              </tr>
          </tbody>
    </table>
  </div>

  <script>
    window.onload = testObserver;

    function testObserver() {
      console.log('setObserver');

      var options = {
        root: document.getElementById('inner')
        // //rootMargin: '20% 0% 0% 50%',
        // threshold: 1.0
      }
      var callback = function(entries, observer) {
        entries.forEach(entry => {
          var subj = {
            time : entry.time,               // a DOMHightResTimeStamp indicating when the intersection occurred.
            roorBounds : entry.rootBounds,         // a DOMRectReadOnly for the intersection observer's root.
            bClRect : entry.boundingClientRect, // a DOMRectReadOnly for the intersection observer's target.
            intersectionRext : entry.intersectionRect,   // a DOMRectReadOnly for the visible portion of the intersection observer's target.
            intsRatio : entry.intersectionRatio,  // the number for the ratio of the intersectionRect to the boundingClientRect.
            target : entry.target,             // the Element whose intersection with the intersection root changed.
            isIntersecting : entry.isIntersecting     // intersecting: true or false
          }
          console.log(subj);
        });
      };

      var observer = new IntersectionObserver(callback, options);
      var target = document.getElementById('day2HeaderTh');

      observer.observe(target);
  }
  </script>

</body>
</html>